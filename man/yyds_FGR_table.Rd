% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/yyds_FGR_table.R
\name{yyds_FGR_table}
\alias{yyds_FGR_table}
\title{提取和结构化 Fine-Gray 模型结果表}
\usage{
yyds_FGR_table(fg_model)
}
\arguments{
\item{fg_model}{使用 \code{FGR()} 拟合得到的 Fine-Gray 模型对象。}
}
\value{
返回一个数据框，包含以下列：
\describe{
\item{Variable}{变量名称及分类变量的水平，参照组自动标注为"ref"}
\item{Events, n/N}{事件数/非事件数/总数}
\item{HR (95\% CI)}{风险比及其95\%置信区间}
\item{p-value}{P值，小于0.001的标记为<0.001}
\item{sign}{显著性标记：\code{*} \verb{<0.05}，\verb{**} \verb{<0.01}，\verb{***} \verb{<0.001}}
\item{HR}{HR值（数值型，保留两位小数）}
\item{Lower}{95\% CI下限}
\item{Upper}{95\% CI上限}
}
}
\description{
本函数适用于 \code{riskRegression::FGR()} 创建的 Fine-Gray 竞争风险回归模型结果（生存分析），
自动提取HR（及其95\%置信区间）、P值，并输出结构化的结果表。对于因子变量，还会自动添加参照组行并计算事件发生数。
}
\examples{
\dontrun{
library(riskRegression)
library(dplyr)
library(tidyr)

# 构造模拟数据
set.seed(42)
n <- 500
dt_cox <- data.frame(
  Die_permth_int = rexp(n, 0.1),
  fg_status = sample(0:2, n, replace = TRUE, prob = c(0.5, 0.3, 0.2)),
  dex_SII.q4 = factor(sample(1:4, n, replace = TRUE)),
  A_age = rnorm(n, 60, 10),
  A_sex = factor(sample(c("Male", "Female"), n, replace = TRUE)),
  A_race = factor(sample(1:3, n, replace = TRUE)),
  A_BMI = rnorm(n, 25, 5),
  A_pir1.3 = factor(sample(0:1, n, replace = TRUE)),
  A_edu2 = factor(sample(1:3, n, replace = TRUE)),
  A_marital = factor(sample(0:1, n, replace = TRUE)),
  A_smoke = factor(sample(0:1, n, replace = TRUE)),
  A_alcohol_intake = factor(sample(0:1, n, replace = TRUE)),
  A_LTPA_all = factor(sample(0:1, n, replace = TRUE))
)

# 拟合 Fine-Gray 模型
fg_model <- FGR(
  formula = prodlim::Hist(time = Die_permth_int, event = fg_status) ~
    dex_SII.q4 + A_age + A_sex + A_race + A_BMI + A_pir1.3 +
    A_edu2 + A_marital + A_smoke + A_alcohol_intake + A_LTPA_all,
  data = dt_cox,
  cause = 1
)

# 输出结构化表格
fg_table <- yyds_FGR_table(fg_model)
print(fg_table)
}

}

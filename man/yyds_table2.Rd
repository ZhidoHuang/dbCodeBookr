% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/yyds_table2.R
\name{yyds_table2}
\alias{yyds_table2}
\title{Regression Results Table Structured
回归结果表格化}
\usage{
yyds_table2(model, effect_digits = 2, p_digits = 3, full = TRUE, event = TRUE)
}
\arguments{
\item{model}{A fitted regression model object. Supported types:
\itemize{
\item Cox proportional hazards model (coxph)
\item Generalized linear model (glm) with binomial, poisson, or gaussian family.
\item Linear model (lm).
}}

\item{effect_digits}{Number of decimal places for effect estimates. Default is 2.}

\item{p_digits}{Number of decimal places for p-values. Default is 3.}

\item{full}{Logical, whether to return full model details (estimate, CI bounds).
Default is FALSE.}

\item{event}{Logical, whether to include event counts for binary outcomes.
Default is FALSE.}
}
\value{
A tibble with formatted analysis results. The columns depend on model type:
\itemize{
\item{Cox models: HR (95\% CI)}
\item{Logistic regression: OR (95\% CI)}
\item{Poisson regression: RR (95\% CI)}
\item{Linear regression: β (95\% CI)}
}
Additional columns are included when full=TRUE or event=TRUE.
}
\description{
\itemize{
\item Generates structured regression result tables for various model types.
\item 为多种回归模型生成结构化结果表格
}
}
\examples{
# 示例1: 线性回归模型
\dontrun{
lm_model <- glm(CKM_stage ~ A_edu2 + A_age + A_sex, data = data)
yyds_table2(lm_model)
}
# 输出:
# # A tibble: 7 × 7
#   Variable               β (95\% CI)      p-value Significance    β lower upper
#   <chr>                  <chr>          <chr>    <chr>        <dbl> <dbl> <dbl>
# 1 A_edu2                 NA             NA       NA           NA    NA    NA
# 2   Bachelor's degree o… Ref            -        ""            0     0     0
# 3   High school diploma… 0.44 (0.39-0.… <0.001   ***          0.44  0.39  0.5
# 4   Some college         0.23 (0.17-0.… <0.001   ***          0.23  0.17  0.29
# 5 A_age                  0.04 (0.03-0.… <0.001   ***          0.04  0.03  0.04
# 6 A_sex                  NA             NA       NA           NA    NA    NA
# 7   female               Ref            -        ""            0     0     0
# 8   male                 0.20 (0.15-0.… <0.001   ***          0.2   0.15  0.24

# 示例2: Logistic回归
\dontrun{
glm_logit <- glm(Die_mortstat ~ A_edu2 + A_age + A_sex,
                family = binomial, data = data)
yyds_table2(glm_logit, full = FALSE)
}
# 输出:
# # A tibble: 7 × 5
#   Variable               Events, n/N OR (95\% CI)      p-value Significance
#   <chr>                  <chr>       <chr>            <chr>    <chr>
# 1 A_edu2                 NA          NA               NA       NA
# 2   Bachelor's degree o… 76/2020     Ref              -        ""
# 3   High school diploma… 273/3386    1.33 (0.98-1.79) 0.065    ""
# 4   Some college         118/2423    1.20 (0.87-1.65) 0.26     ""
# 5 A_age                  NA          1.09 (1.08-1.10) <0.001   ***
# 6 A_sex                  NA          NA               NA       NA
# 7   female               176/3971    Ref              -        ""
# 8   male                 291/3858    1.87 (1.52-2.30) <0.001   ***

# 示例3: Cox回归
\dontrun{
cox_model <- coxph(Surv(Die_permth_int, Die_mortstat) ~ A_edu2 + A_age,
                  data = data)
yyds_table2(cox_model, event = FALSE, effect_digits = 3)
}
# 输出:
# # A tibble: 4 × 7
#   Variable               HR (95\% CI)      p-value Significance    hr lower upper
#   <chr>                  <chr>            <chr>    <chr>        <dbl> <dbl> <dbl>
# 1 A_edu2                 NA               NA       NA           NA    NA    NA
# 2   Bachelor's degree o… Ref              -        ""            1     1     1
# 3   High school diploma… 1.682 (1.312-2.… <0.001   ***          1.68  1.31  2.16
# 4   Some college         1.431 (1.080-1.… 0.013    *            1.43  1.08  1.90
# 5 A_age                  1.092 (1.084-1.… <0.001   ***          1.09  1.08  1.10

# 示例4: 泊松回归
\dontrun{
glm_pois <- glm(CKM_stage ~ A_edu2 + A_age, family = poisson, data = data)
yyds_table2(glm_pois, full = FALSE, event = FALSE)
}
# 输出:
# # A tibble: 3 × 4
#   Variable               RR (95\% CI)      p-value Significance
#   <chr>                  <chr>            <chr>    <chr>
# 1 A_edu2                 NA               NA       NA
# 2   Bachelor's degree o… Ref              -        ""
# 3   High school diploma… 1.18 (1.13-1.22) <0.001   ***
# 4   Some college         1.15 (1.10-1.20) <0.001   ***
# 5 A_age                  1.02 (1.02-1.02) <0.001   ***

}
